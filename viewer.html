<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>3D Viewer Â· Vehicle Database</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      *{box-sizing:border-box;margin:0;padding:0}
      body{font-family:Arial,Helvetica,sans-serif;background:#0f1112;color:#e6e6e6;display:flex;align-items:center;justify-content:center;min-height:100vh}
      .wrap{width:100%;max-width:1100px;padding:28px}
      header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
      h1{font-size:1.1rem;color:#fff;font-weight:600}
      .note{color:#bdbdbd;font-size:0.9rem}

      model-viewer{width:100%;height:640px;background:linear-gradient(180deg,#111,#050505);border-radius:10px;outline:none}

      .controls{margin-top:12px;display:flex;gap:12px;align-items:center}
      .btn{background:linear-gradient(180deg,#3b3b3b,#242424);border:1px solid rgba(255,255,255,0.04);color:#fff;padding:10px 12px;border-radius:8px;text-decoration:none}
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div>
          <h1>3D Model Viewer</h1>
          <div class="note">Drop your exported GLB into <code>assets/models/mx5.glb</code> and a poster at <code>assets/models/mx5-poster.jpg</code></div>
        </div>
        <div class="note">If no local model is present a safe demo model will be used.</div>
      </header>

      <model-viewer id="mv" src="assets/models/mx5.glb" alt="3D model" camera-controls auto-rotate environment-image="https://modelviewer.dev/shared-assets/environments/moon_1k.hdr" poster="assets/models/mx5-poster.jpg" ar ios-src="assets/models/mx5.usdz" exposure="1.0" loading="eager"></model-viewer>

      <div class="controls">
        <a class="btn" id="open-local" href="assets/models/mx5.glb" target="_blank">Open local GLB</a>
        <a class="btn" id="open-sample" href="https://modelviewer.dev/shared-assets/models/Astronaut.glb" target="_blank">Open sample GLB</a>
        <a class="btn" id="howto" href="tools/README-viewer.md" target="_blank">How to add your model</a>
      </div>
    </div>

    <script>
      (async function(){
        const mv = document.getElementById('mv');
        const localUrl = 'assets/models/mx5.glb';
  const fallback = 'https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/CesiumMilkTruck/glTF-Binary/CesiumMilkTruck.glb';
        try{
          const r = await fetch(localUrl, {method:'HEAD'});
          if(!r.ok){
            mv.src = fallback;
            mv.poster = 'https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/CesiumMilkTruck/screenshot/screenshot.webp';
          }
        }catch(err){
          // probably file:// or blocked; fall back to sample
          mv.src = fallback;
          mv.poster = 'https://modelviewer.dev/shared-assets/models/Astronaut.webp';
        }
      })();
    </script>
  </body>
</html>
